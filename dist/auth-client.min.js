!function(e){e.module("authClient.config",[]).value("authClient.config",{debug:!0}),e.module("authClient.services",["ngStorage"]),e.module("authClient",["authClient.config","authClient.services"])}(angular),angular.module("authClient.services").service("authenticate",function(e,t,n,i,a,r){var u=this;this.getToken=function(){return e.jwt},this.check=function(a){return i(function(i,c){var o=u.getToken();o||(o=n.search().jwt,o&&(e.jwt=o));var s={params:{next:a},withCredentials:!1};o=u.getToken(),o&&(s.params.jwt=o),t.get(r.getBaseUrl()+"/oauth/check",s).then(function(t){var n=t.data;n.authenticated?i({token:o,profile:n.profile}):(delete e.jwt,c(n.providers))})})},this.login=function(e,t){a.open(e,t)}}),angular.module("authClient.services").service("authorize",function(e,t,n){this.check=function(i,a){return t(function(t,r){var u={params:{jwt:i,service:a},withCredentials:!1};e.get(n.getBaseUrl()+"/permit/check",u).then(function(e){var n=e.data;t(n)},function(){r({})})})}}),angular.module("authClient.services").service("baseUrl",function(){var e="http://s145.okserver.org";this.setBaseUrl=function(t){e=t},this.getBaseUrl=function(){return e}});